<section>
    <div class="container-left">
        <div>
            <h3>{{db.data.contactData.title}}</h3>
            <h1>{{db.data.contactData.headline}}</h1>
        </div>
        <div>
            <h2>{{db.data.contactData.subheadline}}</h2>
            <p>{{db.data.contactData.introduction}}</p>
            <p>{{db.data.contactData.textBefore}}<a href="{{db.data.contactData.textHref}}"><span>{{db.data.contactData.textHighlighted}}</span></a></p>
        </div>
    </div>
    <form #contactForm="ngForm" novalidate>
        <div class="form-top">
            @for(input of db.data.contactData.form; track input){
                <div class="row" style="position: relative;">
                    <label for="{{input.id}}">{{input.text}}</label>
                    <input 
                    [type]="input.id === 'email' ? 'email' : 'text'"
                    id="{{input.id}}"
                    placeholder="{{input.placeholder}}"
                    autocomplete="on"
                    name="{{input.id}}"
                    ngModel
                    required
                    #validation="ngModel"
                    (blur)="validation.control.markAsTouched()"
                    (click)="validation.control.markAsUntouched()"
                    >
                    @if(validation.invalid && (validation.dirty || validation.touched)){
                        <div class="error">
                            @if(validation.hasError('required')){
                                <p>{{db.data.contactData.requiredError}}</p>
                            }
                            @if(validation.hasError('email')){
                                <p>{{db.data.contactData.emailError}}</p>
                            }
                        </div>
                    }
                </div>
            }
        </div>
        <div class="form-bottom">
            <div class="privacy-policy">
                <div>
                    <img
                    [src]="image"
                    (click)="changeImg()"
                    alt="checkbox"
                    >
                    <p>{{db.data.contactData.policyBefore}}<a href="privacy-policy"><span>{{db.data.contactData.policyHighlighted}}</span></a>{{db.data.contactData.policyAfter}}</p>
                </div>
                <p id="error">{{db.data.contactData.policyError}}</p>
            </div>
            <button type="submit"><span>{{db.data.contactData.button}}</span></button>
        </div>
    </form>
</section>
